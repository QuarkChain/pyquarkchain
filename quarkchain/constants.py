"""
Mostly constants related to consensus, or p2p connection that are not suitable to be in config
"""

# blocks bearing a timestamp that is slightly larger than current epoch will be broadcasted
ALLOWED_FUTURE_BLOCKS_TIME_BROADCAST = 15

# blocks bearing a timestamp that is slightly larger than current epoch will be considered valid
ALLOWED_FUTURE_BLOCKS_TIME_VALIDATION = 15

# Current minor block size is up to 6M gas / 4 (zero-byte gas) = 1.5M
# Per-command size is now 128M so 128M / 1.5M = 85
MINOR_BLOCK_BATCH_SIZE = 50

MINOR_BLOCK_HEADER_LIST_LIMIT = 100

# max number of transactions from NEW_TRANSACTION_LIST command
NEW_TRANSACTION_LIST_LIMIT = 1000

ROOT_BLOCK_BATCH_SIZE = 100

ROOT_BLOCK_HEADER_LIST_LIMIT = 500

SYNC_TIMEOUT = 30

BLOCK_UNCOMMITTED = 0  # The other slaves and the master may not have the block info
BLOCK_COMMITTING = 1  # The block info is propagating to other slaves and the master
BLOCK_COMMITTED = 2  # The other slaves and the master have received the block info

ROOT_CHAIN_POSW_CONTRACT_BYTECODE = bytes.fromhex(
    """
608060405234801561001057600080fd5b50610700806100206000396000f3fe60806040526004361061007b5760003560e01c8063853828b61161004e578063853828b6146101b5578063a69df4b5146101ca578063f83d08ba146101df578063fd8c4646146101e75761007b565b806316934fc4146100d85780632e1a7d4d1461013c578063485d3834146101685780636c19e7831461018f575b336000908152602081905260409020805460ff16156100cb5760405162461bcd60e51b815260040180806020018281038252602681526020018061062e6026913960400191505060405180910390fd5b6100d5813461023b565b50005b3480156100e457600080fd5b5061010b600480360360208110156100fb57600080fd5b50356001600160a01b031661029b565b6040805194151585526020850193909352838301919091526001600160a01b03166060830152519081900360800190f35b34801561014857600080fd5b506101666004803603602081101561015f57600080fd5b50356102cf565b005b34801561017457600080fd5b5061017d61034a565b60408051918252519081900360200190f35b610166600480360360208110156101a557600080fd5b50356001600160a01b0316610351565b3480156101c157600080fd5b506101666103c8565b3480156101d657600080fd5b50610166610436565b6101666104f7565b3480156101f357600080fd5b5061021a6004803603602081101561020a57600080fd5b50356001600160a01b0316610558565b604080519283526001600160a01b0390911660208301528051918290030190f35b8015610297576002820154808201908111610291576040805162461bcd60e51b81526020600482015260116024820152706164646974696f6e206f766572666c6f7760781b604482015290519081900360640190fd5b60028301555b5050565b600060208190529081526040902080546001820154600283015460039093015460ff9092169290916001600160a01b031684565b336000908152602081905260409020805460ff1680156102f3575080600101544210155b6102fc57600080fd5b806002015482111561030d57600080fd5b6002810180548390039055604051339083156108fc029084906000818181858888f19350505050158015610345573d6000803e3d6000fd5b505050565b6203f48081565b336000908152602081905260409020805460ff16156103a15760405162461bcd60e51b81526004018080602001828103825260268152602001806106546026913960400191505060405180910390fd5b6003810180546001600160a01b0319166001600160a01b038416179055610297813461023b565b6103d06105fa565b5033600090815260208181526040918290208251608081018452815460ff16151581526001820154928101929092526002810154928201839052600301546001600160a01b031660608201529061042657600080fd5b61043381604001516102cf565b50565b336000908152602081905260409020805460ff16156104865760405162461bcd60e51b815260040180806020018281038252602b8152602001806106a1602b913960400191505060405180910390fd5b60008160020154116104df576040805162461bcd60e51b815260206004820152601b60248201527f73686f756c642068617665206578697374696e67207374616b65730000000000604482015290519081900360640190fd5b805460ff191660019081178255426203f48001910155565b336000908152602081905260409020805460ff166105465760405162461bcd60e51b815260040180806020018281038252602781526020018061067a6027913960400191505060405180910390fd5b805460ff19168155610433813461023b565b6000806105636105fa565b506001600160a01b03808416600090815260208181526040918290208251608081018452815460ff161580158252600183015493820193909352600282015493810193909352600301549092166060820152906105c75750600091508190506105f5565b60608101516000906001600160a01b03166105e35750836105ea565b5060608101515b604090910151925090505b915091565b6040518060800160405280600015158152602001600081526020016000815260200160006001600160a01b03168152509056fe73686f756c64206f6e6c7920616464207374616b657320696e206c6f636b656420737461746573686f756c64206f6e6c7920736574207369676e657220696e206c6f636b656420737461746573686f756c64206e6f74206c6f636b20616c72656164792d6c6f636b6564206163636f756e747373686f756c64206e6f7420756e6c6f636b20616c72656164792d756e6c6f636b6564206163636f756e7473a265627a7a72315820f2c044ad50ee08e7e49c575b49e8de27cac8322afdb97780b779aa1af44e40d364736f6c634300050b0032
""".strip()
)

# TODO
NON_RESERVED_NATIVE_TOKEN_CONTRACT_BYTECODE = bytes.fromhex(
    """
""".strip()
)

GENERAL_NATIVE_TOKEN_CONTRACT_BYTECODE = bytes.fromhex(
    """
6080604052600080546001600160a01b031916301790553480156200002357600080fd5b50604051620016553803806200165583398101604081905262000046916200007f565b600180546001600160a01b0319166001600160a01b0392909216919091179055620000d4565b80516200007981620000ba565b92915050565b6000602082840312156200009257600080fd5b6000620000a084846200006c565b949350505050565b60006001600160a01b03821662000079565b620000c581620000a8565b8114620000d157600080fd5b50565b61157180620000e46000396000f3fe6080604052600436106100f35760003560e01c80639ed2c7ef1161008a578063ce9e8c4711610059578063ce9e8c4714610299578063ceca0318146102c8578063dc68f0a0146102db578063f9c94eb7146102f0576100f3565b80639ed2c7ef14610217578063bb92885414610237578063beb92f5514610257578063bffa8bd014610277576100f3565b80636d27af8c116100c65780636d27af8c1461019e578063735e0e19146101c05780637e081270146101d35780639447e58c146101e8576100f3565b806313dee215146100f857806321a2b36e1461012e57806356e4b68b1461014e5780635ae8f7f114610170575b600080fd5b34801561010457600080fd5b50610118610113366004610d6f565b610310565b6040516101259190611499565b60405180910390f35b34801561013a57600080fd5b50610118610149366004610d6f565b61032d565b34801561015a57600080fd5b5061016361034a565b604051610125919061130d565b34801561017c57600080fd5b5061019061018b366004610dd9565b610359565b6040516101259291906114a7565b3480156101aa57600080fd5b506101be6101b9366004610e26565b61052c565b005b6101be6101ce366004610dd9565b6105f3565b3480156101df57600080fd5b50610163610816565b3480156101f457600080fd5b50610208610203366004610d51565b610825565b6040516101259392919061131b565b34801561022357600080fd5b506101be610232366004610d51565b610885565b34801561024357600080fd5b506101be610252366004610da9565b61095c565b34801561026357600080fd5b506101be610272366004610d33565b6109b6565b34801561028357600080fd5b5061028c610a02565b604051610125919061148b565b3480156102a557600080fd5b506102b96102b4366004610da9565b610a11565b60405161012593929190611343565b6101be6102d6366004610d51565b610b1c565b3480156102e757600080fd5b5061028c610bcb565b3480156102fc57600080fd5b506101be61030b366004610d51565b610be1565b600460209081526000928352604080842090915290825290205481565b600560209081526000928352604080842090915290825290205481565b6001546001600160a01b031681565b6000805481906001600160a01b0316331461038f5760405162461bcd60e51b8152600401610386906113cb565b60405180910390fd5b600080600061039e8887610a11565b909450925090506001600160801b0387811690871681029080840290849082816103c457fe5b04146103e25760405162461bcd60e51b8152600401610386906113ab565b6001600160801b03808b1660009081526004602090815260408083206001600160a01b038816845290915290205460035490911611156104345760405162461bcd60e51b8152600401610386906113fb565b6001600160801b038a1660009081526004602090815260408083206001600160a01b03871684529091529020548111156104805760405162461bcd60e51b81526004016103869061141b565b6001600160801b038a1660009081526005602090815260408083206001600160a01b0387168452909152902054828101908110156104d05760405162461bcd60e51b81526004016103869061136b565b6001600160801b038b1660008181526004602090815260408083206001600160a01b0390981680845297825280832080549690960390955591815260058252838120958152949052922091909155509092509050935093915050565b6001600160801b0382166000908152600260205260409020546001600160a01b0316331461056c5760405162461bcd60e51b81526004016103869061144b565b8067ffffffffffffffff16600a11158015610592575060648167ffffffffffffffff1611155b6105ae5760405162461bcd60e51b81526004016103869061140b565b6001600160801b039091166000908152600260205260409020805467ffffffffffffffff909216600160a01b0267ffffffffffffffff60a01b19909216919091179055565b816001600160801b031660001061061c5760405162461bcd60e51b81526004016103869061143b565b806001600160801b03166000106106455760405162461bcd60e51b81526004016103869061143b565b6003546001600160801b039081168183160261520884029091161061067c5760405162461bcd60e51b81526004016103869061142b565b610684610cb3565b6001600160801b03838116825282811660208084019190915260035486831660009081526004835260408082203383529093529190912054600160801b9091049091163490910110156106e95760405162461bcd60e51b8152600401610386906113fb565b6001600160801b0380851660009081526002602090815260408083206004835281842060035482546001600160a01b03168652938190529190932054929390929116118061075657506001820154610756906001600160801b0380821691600160801b9004168787610c53565b6107725760405162461bcd60e51b81526004016103869061138b565b3360009081526020829052604090205434908101908110156107a65760405162461bcd60e51b81526004016103869061137b565b33600081815260209390935260409092205581546001830180546001600160801b0319166001600160801b03978816178716600160801b9690971695909502959095179093556001600160a01b031990931690911767ffffffffffffffff60a01b1916601960a11b179091555050565b6000546001600160a01b031681565b600260209081526000918252604091829020805483518085019094526001909101546001600160801b038082168552600160801b90910416918301919091526001600160a01b03811691600160a01b90910467ffffffffffffffff169083565b6001600160801b0381166000908152600260205260409020546001600160a01b03163314156108c65760405162461bcd60e51b8152600401610386906113eb565b6001600160801b0381166000908152600460209081526040808320338452909152902054806109075760405162461bcd60e51b81526004016103869061146b565b6001600160801b038216600090815260046020908152604080832033808552925280832083905551909183156108fc02918491818181858888f19350505050158015610957573d6000803e3d6000fd5b505050565b6001546001600160a01b031633146109865760405162461bcd60e51b81526004016103869061147b565b600380546001600160801b03928316600160801b029383166001600160801b031990911617909116919091179055565b6001546001600160a01b031633146109e05760405162461bcd60e51b81526004016103869061139b565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6003546001600160801b031681565b6000806000610a1e610cca565b506001600160801b03858116600090815260026020908152604091829020825160608101845281546001600160a01b038082168352600160a01b90910467ffffffffffffffff1682850152845180860186526001909301548087168452600160801b900490951692820192909252918101919091528051909116610ab45760405162461bcd60e51b8152600401610386906113bb565b610abc610cb3565b506040810151805160208201516001600160801b039182168289160291168181610ae257fe5b04905060008111610b055760405162461bcd60e51b81526004016103869061146b565b825160209093015192989297509550909350505050565b6001600160801b0381166000908152600460209081526040808320338452909152902054610b5c5760405162461bcd60e51b81526004016103869061145b565b6001600160801b03811660009081526004602090815260408083203384529091529020543490810190811015610ba45760405162461bcd60e51b8152600401610386906113db565b6001600160801b039091166000908152600460209081526040808320338452909152902055565b600354600160801b90046001600160801b031681565b6001600160801b038116600090815260056020908152604080832033845290915290205480610c225760405162461bcd60e51b81526004016103869061146b565b6001600160801b03821660008181526005602090815260408083203380855292528220919091556109579183610c76565b6001600160801b038281168482160285821691831691909102105b949350505050565b6000610c80610cee565b84815260208082018590526040820184905282606083600064514b430002600019f1610cab57600080fd5b509392505050565b604080518082019091526000808252602082015290565b6040805160608101825260008082526020820152908101610ce9610cb3565b905290565b60405180606001604052806003906020820280388339509192915050565b8035610d1781611505565b92915050565b8035610d178161151c565b8035610d1781611525565b600060208284031215610d4557600080fd5b6000610c6e8484610d0c565b600060208284031215610d6357600080fd5b6000610c6e8484610d1d565b60008060408385031215610d8257600080fd5b6000610d8e8585610d1d565b9250506020610d9f85828601610d0c565b9150509250929050565b60008060408385031215610dbc57600080fd5b6000610dc88585610d1d565b9250506020610d9f85828601610d1d565b600080600060608486031215610dee57600080fd5b6000610dfa8686610d1d565b9350506020610e0b86828701610d1d565b9250506040610e1c86828701610d1d565b9150509250925092565b60008060408385031215610e3957600080fd5b6000610e458585610d1d565b9250506020610d9f85828601610d28565b610e5f816114d2565b82525050565b6000610e726018836114c9565b7f41766f6964206164646974696f6e206f766572666c6f772e0000000000000000815260200192915050565b6000610eab6012836114c9565b7120b23234ba34b7b71037bb32b9333637bb9760711b815260200192915050565b6000610ed96023836114c9565b7f496e76616c6964206e65772065786368616e676520726174652070726f706f7381526230b61760e91b602082015260400192915050565b6000610f1e601f836114c9565b7f4f6e6c792073757065727669736f722063616e207365742063616c6c65722e00815260200192915050565b6000610f576017836114c9565b7f41766f69642075696e74323536206f766572666c6f772e000000000000000000815260200192915050565b6000610f90600e836114c9565b6d24b73b30b634b2103a37b5b2b71760911b815260200192915050565b6000610fba6025836114c9565b7f4f6e6c792063616c6c65722063616e20696e766f6b6520746869732066756e638152643a34b7b71760d91b602082015260400192915050565b60006110016016836114c9565b7573686f756c6420626520612076616c6964207465726d60501b815260200192915050565b60006110336023836114c9565b7f4e6f7420616c6c6f77656420666f72206e617469766520746f6b656e2061646d81526234b71760e91b602082015260400192915050565b60006110786030836114c9565b7f53686f756c642068617665207265736572766520616d6f756e7420677265617481526f32b9103a3430b71036b4b734b6bab69760811b602082015260400192915050565b60006110ca601d836114c9565b7f53686f756c64206265206265747765656e203020616e6420313030252e000000815260200192915050565b60006111036023836114c9565b7f53686f756c64206861766520656e6f75676820726573657276657320746f207081526230bc9760e91b602082015260400192915050565b60006111486037836114c9565b7f52657175697265732065786368616e67652072617465202a203231303030203c81527f206d696e476173526573657276654d61696e7461696e2e000000000000000000602082015260400192915050565b60006111a76019836114c9565b7f56616c75652073686f756c64206265206e6f6e2d7a65726f2e00000000000000815260200192915050565b60006111e0601f836114c9565b7f4f6e6c792061646d696e2063616e2073657420726566756e6420726174652e00815260200192915050565b60006112196019836114c9565b7f73686f756c6420626520616e2065786974656420746f6b656e00000000000000815260200192915050565b6000611252601b836114c9565b7f53686f756c642068617665206e6f6e2d7a65726f2076616c75652e0000000000815260200192915050565b600061128b6028836114c9565b7f4f6e6c792073757065727669736f722063616e20736574206d696e20676173208152673932b9b2b93b329760c11b602082015260400192915050565b805160408301906112d984826112f2565b5060208201516112ec60208501826112f2565b50505050565b610e5f816114dd565b610e5f816114f5565b610e5f816114f8565b60208101610d178284610e56565b608081016113298286610e56565b6113366020830185611304565b610c6e60408301846112c8565b606081016113518286610e56565b61135e6020830185611304565b610c6e60408301846112fb565b60208082528101610d1781610e65565b60208082528101610d1781610e9e565b60208082528101610d1781610ecc565b60208082528101610d1781610f11565b60208082528101610d1781610f4a565b60208082528101610d1781610f83565b60208082528101610d1781610fad565b60208082528101610d1781610ff4565b60208082528101610d1781611026565b60208082528101610d178161106b565b60208082528101610d17816110bd565b60208082528101610d17816110f6565b60208082528101610d178161113b565b60208082528101610d178161119a565b60208082528101610d17816111d3565b60208082528101610d178161120c565b60208082528101610d1781611245565b60208082528101610d178161127e565b60208101610d1782846112f2565b60208101610d1782846112fb565b604081016114b58285611304565b6114c260208301846112fb565b9392505050565b90815260200190565b6000610d17826114e9565b6001600160801b031690565b6001600160a01b031690565b90565b67ffffffffffffffff1690565b61150e816114d2565b811461151957600080fd5b50565b61150e816114dd565b61150e816114f856fea365627a7a72315820233d54dd2c3c5d9dc278c0eef714070ccdcb99bd3461c9bd4c638455c2cab6406c6578706572696d656e74616cf564736f6c634300050b0040
""".strip()
)

PRECOMPILED_CONTRACTS_AFTER_EVM_ENABLED = [
    bytes.fromhex("000000000000000000000000000000514b430001"),
    bytes.fromhex("000000000000000000000000000000514b430002"),
    bytes.fromhex("000000000000000000000000000000514b430003"),
]
